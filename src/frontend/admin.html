<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>金融分析管理系统</title>
    <!-- Element Plus CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Element Plus JS -->
    <script src="https://unpkg.com/element-plus/dist/index.full.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Element Plus Icons -->
    <script src="https://unpkg.com/@element-plus/icons-vue/dist/index.iife.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 50%, #2d1810 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* 登录页面样式 */
        .login-container {
            min-height: 100vh;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 50%, #2d1810 100%);
            background-image:
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 215, 0, 0.08) 0%, transparent 50%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .login-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,215,0,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .login-box {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            padding: 40px;
            width: 400px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 1;
        }

        .login-title {
            text-align: center;
            color: #FFD700;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        /* 主系统样式 */
        .main-container {
            min-height: 100vh;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 50%, #2d1810 100%);
        }

        .header {
            height: 60px;
            background: linear-gradient(90deg, #000000 0%, #1a1a1a 100%);
            border-bottom: 2px solid #FFD700;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        .logo {
            color: #FFD700;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .user-info {
            color: #FFD700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar {
            width: 250px;
            background: linear-gradient(180deg, #1a1a1a 0%, #0c0c0c 100%);
            border-right: 2px solid #FFD700;
            min-height: calc(100vh - 60px);
            overflow-y: auto;
        }

        .content-area {
            flex: 1;
            padding: 20px;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 100%);
            min-height: calc(100vh - 60px);
            overflow-y: auto;
        }

        .main-layout {
            display: flex;
        }

        /* 卡片样式 */
        .dashboard-card {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.8) 0%, rgba(26, 26, 26, 0.9) 100%);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }

        .card-title {
            color: #FFD700;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.3);
        }

        /* 统计卡片 */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(0, 0, 0, 0.8) 100%);
            border: 1px solid rgba(255, 215, 0, 0.5);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #FFD700, #FFA500);
        }

        .stat-value {
            color: #FFD700;
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .stat-label {
            color: #CCCCCC;
            font-size: 14px;
        }

        /* 图表容器 */
        .chart-container {
            height: 400px;
            position: relative;
        }

        /* 表格样式 */
        .el-table {
            background: transparent !important;
        }

        .el-table th {
            background: rgba(255, 215, 0, 0.1) !important;
            color: #FFD700 !important;
            border-bottom: 1px solid rgba(255, 215, 0, 0.3) !important;
        }

        .el-table td {
            background: rgba(0, 0, 0, 0.3) !important;
            color: #CCCCCC !important;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1) !important;
        }

        /* 菜单样式 */
        .el-menu {
            background: transparent !important;
            border: none !important;
        }

        .el-menu-item {
            color: #CCCCCC !important;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
        }

        .el-menu-item:hover,
        .el-menu-item.is-active {
            background: rgba(255, 215, 0, 0.1) !important;
            color: #FFD700 !important;
        }

        .el-sub-menu__title {
            color: #CCCCCC !important;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
        }

        .el-sub-menu__title:hover {
            background: rgba(255, 215, 0, 0.1) !important;
            color: #FFD700 !important;
        }

        /* 表单样式 */
        .el-input__wrapper {
            background: rgba(0, 0, 0, 0.5) !important;
            border: 1px solid rgba(255, 215, 0, 0.3) !important;
            border-radius: 8px !important;
        }

        .el-input__inner {
            color: #CCCCCC !important;
        }

        .el-button--primary {
            background: linear-gradient(135deg, #FFD700, #FFA500) !important;
            border: none !important;
            color: #000000 !important;
            font-weight: bold !important;
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .sidebar {
                width: 200px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        /* 动画效果 */
        .fade-enter-active,
        .fade-leave-active {
            transition: opacity 0.5s;
        }

        .fade-enter-from,
        .fade-leave-to {
            opacity: 0;
        }

        /* PPT风格样式 */
        .ppt-section {
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9) 0%, rgba(26, 26, 26, 0.8) 100%);
            border-left: 5px solid #FFD700;
            border-radius: 10px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6);
        }

        .ppt-title {
            color: #FFD700;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .highlight-number {
            color: #FFD700;
            font-size: 48px;
            font-weight: bold;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- 登录页面 -->
        <div v-if="!isLoggedIn" class="login-container">
            <div class="login-box">
                <h2 class="login-title">金融分析管理系统</h2>
                <el-form :model="loginForm" @submit.prevent="login">
                    <el-form-item>
                        <el-input v-model="loginForm.username" placeholder="用户名" prefix-icon="User" size="large">
                        </el-input>
                    </el-form-item>
                    <el-form-item>
                        <el-input v-model="loginForm.password" type="password" placeholder="密码" prefix-icon="Lock"
                            size="large" @keyup.enter="login">
                        </el-input>
                    </el-form-item>
                    <el-form-item>
                        <el-button type="primary" size="large" style="width: 100%" @click="login"
                            :loading="loginLoading">
                            登录系统
                        </el-button>
                    </el-form-item>
                </el-form>
            </div>
        </div>

        <!-- 主系统界面 -->
        <div v-else class="main-container">
            <!-- 顶部导航 -->
            <div class="header">
                <div class="logo">
                    <i class="el-icon-money"></i> 金融分析管理系统
                </div>
                <div class="user-info">
                    <span>欢迎，{{ currentUser }}</span>
                    <el-button type="text" @click="logout" style="color: #FFD700;">
                        <i class="el-icon-switch-button"></i> 退出
                    </el-button>
                </div>
            </div>

            <div class="main-layout">
                <!-- 左侧导航 -->
                <div class="sidebar">
                    <el-menu :default-active="activeMenu" @select="handleMenuSelect" unique-opened>

                        <el-menu-item index="dashboard">
                            <i class="el-icon-odometer"></i>
                            <span>仪表盘</span>
                        </el-menu-item>

                        <el-sub-menu index="market">
                            <template #title>
                                <i class="el-icon-trend-charts"></i>
                                <span>市场分析</span>
                            </template>
                            <el-menu-item index="market-overview">市场概览</el-menu-item>
                            <el-menu-item index="stock-analysis">股票分析</el-menu-item>
                            <el-menu-item index="sector-analysis">行业分析</el-menu-item>
                        </el-sub-menu>

                        <el-sub-menu index="portfolio">
                            <template #title>
                                <i class="el-icon-wallet"></i>
                                <span>投资组合</span>
                            </template>
                            <el-menu-item index="portfolio-overview">组合概览</el-menu-item>
                            <el-menu-item index="risk-analysis">风险分析</el-menu-item>
                            <el-menu-item index="performance">业绩表现</el-menu-item>
                        </el-sub-menu>

                        <el-sub-menu index="trading">
                            <template #title>
                                <i class="el-icon-data-line"></i>
                                <span>交易管理</span>
                            </template>
                            <el-menu-item index="orders">订单管理</el-menu-item>
                            <el-menu-item index="positions">持仓管理</el-menu-item>
                            <el-menu-item index="history">交易历史</el-menu-item>
                        </el-sub-menu>

                        <el-sub-menu index="reports">
                            <template #title>
                                <i class="el-icon-document"></i>
                                <span>报告中心</span>
                            </template>
                            <el-menu-item index="daily-report">日报</el-menu-item>
                            <el-menu-item index="monthly-report">月报</el-menu-item>
                            <el-menu-item index="custom-report">自定义报告</el-menu-item>
                        </el-sub-menu>

                        <el-menu-item index="settings">
                            <i class="el-icon-setting"></i>
                            <span>系统设置</span>
                        </el-menu-item>
                    </el-menu>
                </div>

                <!-- 主内容区域 -->
                <div class="content-area">
                    <transition name="fade" mode="out-in">
                        <!-- 仪表盘 -->
                        <div v-if="activeMenu === 'dashboard'" key="dashboard">
                            <div class="ppt-section">
                                <h1 class="ppt-title">金融市场实时监控</h1>

                                <!-- 关键指标 -->
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <div class="stat-value">{{ formatNumber(totalAssets) }}</div>
                                        <div class="stat-label">总资产 (万元)</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" style="color: #00FF00;">+{{ dailyReturn }}%</div>
                                        <div class="stat-label">今日收益率</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value">{{ activePositions }}</div>
                                        <div class="stat-label">活跃持仓</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value">{{ riskLevel }}</div>
                                        <div class="stat-label">风险等级</div>
                                    </div>
                                </div>

                                <!-- 图表区域 -->
                                <el-row :gutter="20">
                                    <el-col :span="12">
                                        <div class="dashboard-card">
                                            <h3 class="card-title">市场趋势分析</h3>
                                            <div class="chart-container">
                                                <canvas id="trendChart"></canvas>
                                            </div>
                                        </div>
                                    </el-col>
                                    <el-col :span="12">
                                        <div class="dashboard-card">
                                            <h3 class="card-title">资产配置</h3>
                                            <div class="chart-container">
                                                <canvas id="pieChart"></canvas>
                                            </div>
                                        </div>
                                    </el-col>
                                </el-row>

                                <!-- 数据表格 -->
                                <div class="dashboard-card">
                                    <h3 class="card-title">热门股票</h3>
                                    <el-table :data="stockData" style="width: 100%">
                                        <el-table-column prop="symbol" label="股票代码" width="120"></el-table-column>
                                        <el-table-column prop="name" label="股票名称" width="200"></el-table-column>
                                        <el-table-column prop="price" label="当前价格" width="120"></el-table-column>
                                        <el-table-column prop="change" label="涨跌幅" width="120">
                                            <template #default="scope">
                                                <span :style="{ color: scope.row.change > 0 ? '#00FF00' : '#FF0000' }">
                                                    {{ scope.row.change > 0 ? '+' : '' }}{{ scope.row.change }}%
                                                </span>
                                            </template>
                                        </el-table-column>
                                        <el-table-column prop="volume" label="成交量"></el-table-column>
                                        <el-table-column prop="marketCap" label="市值"></el-table-column>
                                    </el-table>
                                </div>
                            </div>
                        </div>

                        <!-- 市场概览 -->
                        <div v-else-if="activeMenu === 'market-overview'" key="market-overview">
                            <div class="ppt-section">
                                <h1 class="ppt-title">全球市场概览</h1>

                                <el-row :gutter="20">
                                    <el-col :span="8">
                                        <div class="dashboard-card">
                                            <h3 class="card-title">主要指数</h3>
                                            <div style="text-align: center; padding: 20px;">
                                                <div class="highlight-number">3,456.78</div>
                                                <p style="color: #CCCCCC; margin-top: 10px;">上证指数</p>
                                                <p style="color: #00FF00;">+1.23%</p>
                                            </div>
                                        </div>
                                    </el-col>
                                    <el-col :span="8">
                                        <div class="dashboard-card">
                                            <h3 class="card-title">深证成指</h3>
                                            <div style="text-align: center; padding: 20px;">
                                                <div class="highlight-number">12,345.67</div>
                                                <p style="color: #CCCCCC; margin-top: 10px;">深证成指</p>
                                                <p style="color: #FF0000;">-0.45%</p>
                                            </div>
                                        </div>
                                    </el-col>
                                    <el-col :span="8">
                                        <div class="dashboard-card">
                                            <h3 class="card-title">创业板指</h3>
                                            <div style="text-align: center; padding: 20px;">
                                                <div class="highlight-number">2,789.12</div>
                                                <p style="color: #CCCCCC; margin-top: 10px;">创业板指</p>
                                                <p style="color: #00FF00;">+2.15%</p>
                                            </div>
                                        </div>
                                    </el-col>
                                </el-row>

                                <div class="dashboard-card">
                                    <h3 class="card-title">市场热力图</h3>
                                    <div class="chart-container">
                                        <canvas id="heatmapChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 股票分析 -->
                        <div v-else-if="activeMenu === 'stock-analysis'" key="stock-analysis">
                            <div class="ppt-section">
                                <h1 class="ppt-title">个股深度分析</h1>

                                <el-row :gutter="20">
                                    <el-col :span="16">
                                        <div class="dashboard-card">
                                            <h3 class="card-title">K线图分析</h3>
                                            <div class="chart-container">
                                                <canvas id="candlestickChart"></canvas>
                                            </div>
                                        </div>
                                    </el-col>
                                    <el-col :span="8">
                                        <div class="dashboard-card">
                                            <h3 class="card-title">技术指标</h3>
                                            <div style="padding: 20px;">
                                                <p style="color: #CCCCCC; margin-bottom: 15px;">
                                                    <strong style="color: #FFD700;">RSI:</strong> 65.4
                                                </p>
                                                <p style="color: #CCCCCC; margin-bottom: 15px;">
                                                    <strong style="color: #FFD700;">MACD:</strong> 0.23
                                                </p>
                                                <p style="color: #CCCCCC; margin-bottom: 15px;">
                                                    <strong style="color: #FFD700;">KDJ:</strong> 78.5
                                                </p>
                                                <p style="color: #CCCCCC; margin-bottom: 15px;">
                                                    <strong style="color: #FFD700;">布林带:</strong> 中轨
                                                </p>
                                            </div>
                                        </div>
                                    </el-col>
                                </el-row>
                            </div>
                        </div>

                        <!-- 投资组合概览 -->
                        <div v-else-if="activeMenu === 'portfolio-overview'" key="portfolio-overview">
                            <div class="ppt-section">
                                <h1 class="ppt-title">投资组合管理</h1>

                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <div class="stat-value">1,234.56</div>
                                        <div class="stat-label">组合总值 (万元)</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" style="color: #00FF00;">+15.67%</div>
                                        <div class="stat-label">年化收益率</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value">0.85</div>
                                        <div class="stat-label">夏普比率</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value">12.34%</div>
                                        <div class="stat-label">最大回撤</div>
                                    </div>
                                </div>

                                <el-row :gutter="20">
                                    <el-col :span="12">
                                        <div class="dashboard-card">
                                            <h3 class="card-title">收益曲线</h3>
                                            <div class="chart-container">
                                                <canvas id="portfolioChart"></canvas>
                                            </div>
                                        </div>
                                    </el-col>
                                    <el-col :span="12">
                                        <div class="dashboard-card">
                                            <h3 class="card-title">持仓分布</h3>
                                            <div class="chart-container">
                                                <canvas id="holdingsChart"></canvas>
                                            </div>
                                        </div>
                                    </el-col>
                                </el-row>
                            </div>
                        </div>

                        <!-- 其他页面的占位符 -->
                        <div v-else key="other">
                            <div class="ppt-section">
                                <h1 class="ppt-title">{{ getPageTitle() }}</h1>
                                <div class="dashboard-card">
                                    <p style="color: #CCCCCC; text-align: center; padding: 50px;">
                                        该功能模块正在开发中，敬请期待...
                                    </p>
                                </div>
                            </div>
                        </div>
                    </transition>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;
        const { ElMessage } = ElementPlus;

        createApp({
            data() {
                return {
                    isLoggedIn: false,
                    loginLoading: false,
                    currentUser: '',
                    activeMenu: 'dashboard',
                    loginForm: {
                        username: '',
                        password: ''
                    },
                    // 模拟数据
                    totalAssets: 12345.67,
                    dailyReturn: 2.34,
                    activePositions: 15,
                    riskLevel: '中等',
                    stockData: [
                        { symbol: '000001', name: '平安银行', price: '12.34', change: 2.15, volume: '1.2亿', marketCap: '2,345亿' },
                        { symbol: '000002', name: '万科A', price: '23.45', change: -1.23, volume: '8,900万', marketCap: '2,567亿' },
                        { symbol: '600036', name: '招商银行', price: '45.67', change: 1.89, volume: '1.5亿', marketCap: '1,234亿' },
                        { symbol: '600519', name: '贵州茅台', price: '1,890.12', change: 0.56, volume: '234万', marketCap: '23,456亿' },
                        { symbol: '000858', name: '五粮液', price: '234.56', change: -0.78, volume: '567万', marketCap: '8,901亿' }
                    ]
                }
            },
            mounted() {
                // 检查是否已登录
                const savedUser = localStorage.getItem('currentUser');
                if (savedUser) {
                    this.isLoggedIn = true;
                    this.currentUser = savedUser;
                    this.$nextTick(() => {
                        this.initCharts();
                    });
                }
            },
            methods: {
                async login() {
                    if (!this.loginForm.username || !this.loginForm.password) {
                        ElMessage.error('请输入用户名和密码');
                        return;
                    }

                    this.loginLoading = true;

                    // 模拟登录验证（实际项目中应该连接MySQL数据库）
                    setTimeout(() => {
                        if (this.loginForm.username === 'admin' && this.loginForm.password === '123456') {
                            this.isLoggedIn = true;
                            this.currentUser = this.loginForm.username;
                            localStorage.setItem('currentUser', this.currentUser);
                            ElMessage.success('登录成功');
                            this.$nextTick(() => {
                                this.initCharts();
                            });
                        } else {
                            ElMessage.error('用户名或密码错误');
                        }
                        this.loginLoading = false;
                    }, 1000);
                },

                logout() {
                    this.isLoggedIn = false;
                    this.currentUser = '';
                    this.loginForm = { username: '', password: '' };
                    localStorage.removeItem('currentUser');
                    ElMessage.success('已退出登录');
                },

                handleMenuSelect(index) {
                    this.activeMenu = index;
                    this.$nextTick(() => {
                        this.initCharts();
                    });
                },

                getPageTitle() {
                    const titles = {
                        'dashboard': '仪表盘',
                        'market-overview': '市场概览',
                        'stock-analysis': '股票分析',
                        'sector-analysis': '行业分析',
                        'portfolio-overview': '投资组合概览',
                        'risk-analysis': '风险分析',
                        'performance': '业绩表现',
                        'orders': '订单管理',
                        'positions': '持仓管理',
                        'history': '交易历史',
                        'daily-report': '日报',
                        'monthly-report': '月报',
                        'custom-report': '自定义报告',
                        'settings': '系统设置'
                    };
                    return titles[this.activeMenu] || '未知页面';
                },

                formatNumber(num) {
                    return num.toLocaleString('zh-CN', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                },

                initCharts() {
                    // 趋势图
                    const trendCtx = document.getElementById('trendChart');
                    if (trendCtx) {
                        new Chart(trendCtx, {
                            type: 'line',
                            data: {
                                labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                                datasets: [{
                                    label: '收益率',
                                    data: [12, 19, 3, 5, 2, 3],
                                    borderColor: '#FFD700',
                                    backgroundColor: 'rgba(255, 215, 0, 0.1)',
                                    tension: 0.4
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        labels: {
                                            color: '#CCCCCC'
                                        }
                                    }
                                },
                                scales: {
                                    x: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    },
                                    y: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    }
                                }
                            }
                        });
                    }

                    // 饼图
                    const pieCtx = document.getElementById('pieChart');
                    if (pieCtx) {
                        new Chart(pieCtx, {
                            type: 'doughnut',
                            data: {
                                labels: ['股票', '债券', '基金', '现金'],
                                datasets: [{
                                    data: [45, 25, 20, 10],
                                    backgroundColor: ['#FFD700', '#FFA500', '#FF8C00', '#FF6347']
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        labels: {
                                            color: '#CCCCCC'
                                        }
                                    }
                                }
                            }
                        });
                    }

                    // 热力图（柱状图模拟）
                    const heatmapCtx = document.getElementById('heatmapChart');
                    if (heatmapCtx) {
                        new Chart(heatmapCtx, {
                            type: 'bar',
                            data: {
                                labels: ['银行', '科技', '医药', '消费', '地产', '能源'],
                                datasets: [{
                                    label: '涨跌幅 (%)',
                                    data: [2.3, -1.2, 3.4, 1.8, -0.5, 2.1],
                                    backgroundColor: function (context) {
                                        const value = context.parsed.y;
                                        return value > 0 ? '#00FF00' : '#FF0000';
                                    }
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        labels: {
                                            color: '#CCCCCC'
                                        }
                                    }
                                },
                                scales: {
                                    x: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    },
                                    y: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    }
                                }
                            }
                        });
                    }

                    // K线图（线图模拟）
                    const candlestickCtx = document.getElementById('candlestickChart');
                    if (candlestickCtx) {
                        new Chart(candlestickCtx, {
                            type: 'line',
                            data: {
                                labels: ['9:30', '10:00', '10:30', '11:00', '11:30', '13:00', '13:30', '14:00', '14:30', '15:00'],
                                datasets: [{
                                    label: '股价',
                                    data: [12.34, 12.45, 12.38, 12.52, 12.48, 12.55, 12.62, 12.58, 12.65, 12.70],
                                    borderColor: '#FFD700',
                                    backgroundColor: 'rgba(255, 215, 0, 0.1)',
                                    tension: 0.1
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        labels: {
                                            color: '#CCCCCC'
                                        }
                                    }
                                },
                                scales: {
                                    x: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    },
                                    y: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    }
                                }
                            }
                        });
                    }

                    // 投资组合收益曲线
                    const portfolioCtx = document.getElementById('portfolioChart');
                    if (portfolioCtx) {
                        new Chart(portfolioCtx, {
                            type: 'line',
                            data: {
                                labels: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
                                datasets: [{
                                    label: '组合收益',
                                    data: [100, 105, 102, 110, 115, 108, 120, 125, 118, 130, 135, 140],
                                    borderColor: '#00FF00',
                                    backgroundColor: 'rgba(0, 255, 0, 0.1)',
                                    tension: 0.4
                                }, {
                                    label: '基准收益',
                                    data: [100, 103, 106, 104, 108, 110, 112, 109, 115, 118, 120, 122],
                                    borderColor: '#FFD700',
                                    backgroundColor: 'rgba(255, 215, 0, 0.1)',
                                    tension: 0.4
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        labels: {
                                            color: '#CCCCCC'
                                        }
                                    }
                                },
                                scales: {
                                    x: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    },
                                    y: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    }
                                }
                            }
                        });
                    }

                    // 持仓分布
                    const holdingsCtx = document.getElementById('holdingsChart');
                    if (holdingsCtx) {
                        new Chart(holdingsCtx, {
                            type: 'bar',
                            data: {
                                labels: ['平安银行', '招商银行', '贵州茅台', '腾讯控股', '阿里巴巴'],
                                datasets: [{
                                    label: '持仓比例 (%)',
                                    data: [25, 20, 18, 15, 12],
                                    backgroundColor: ['#FFD700', '#FFA500', '#FF8C00', '#FF6347', '#FF4500']
                                }]
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                plugins: {
                                    legend: {
                                        labels: {
                                            color: '#CCCCCC'
                                        }
                                    }
                                },
                                scales: {
                                    x: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    },
                                    y: {
                                        ticks: { color: '#CCCCCC' },
                                        grid: { color: 'rgba(255, 215, 0, 0.1)' }
                                    }
                                }
                            }
                        });
                    }
                }
            }
        }).use(ElementPlus).mount('#app');

        // 全局样式调整
        document.addEventListener('DOMContentLoaded', function () {
            // 添加一些动态效果
            const cards = document.querySelectorAll('.dashboard-card, .stat-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function () {
                    this.style.transform = 'translateY(-5px)';
                    this.style.transition = 'transform 0.3s ease';
                });

                card.addEventListener('mouseleave', function () {
                    this.style.transform = 'translateY(0)';
                });
            });

            // 添加数字动画效果
            const animateNumbers = () => {
                const numbers = document.querySelectorAll('.stat-value, .highlight-number');
                numbers.forEach(number => {
                    const value = parseFloat(number.textContent.replace(/[^0-9.-]/g, ''));
                    if (!isNaN(value)) {
                        let current = 0;
                        const increment = value / 100;
                        const timer = setInterval(() => {
                            current += increment;
                            if (current >= value) {
                                current = value;
                                clearInterval(timer);
                            }
                            number.textContent = current.toLocaleString('zh-CN', {
                                minimumFractionDigits: 2,
                                maximumFractionDigits: 2
                            });
                        }, 20);
                    }
                });
            };

            // 延迟执行数字动画
            setTimeout(animateNumbers, 500);
        });

        // 实时数据更新模拟
        setInterval(() => {
            // 模拟实时数据更新
            const app = document.querySelector('#app').__vue_app__;
            if (app && app._instance && app._instance.ctx.isLoggedIn) {
                const ctx = app._instance.ctx;
                // 随机更新一些数据
                ctx.dailyReturn = (Math.random() * 5 - 2.5).toFixed(2);
                ctx.totalAssets = (12000 + Math.random() * 1000).toFixed(2);

                // 更新股票数据
                ctx.stockData.forEach(stock => {
                    stock.change = (Math.random() * 6 - 3).toFixed(2);
                    stock.price = (parseFloat(stock.price) * (1 + Math.random() * 0.02 - 0.01)).toFixed(2);
                });
            }
        }, 5000);

        // 响应式处理
        window.addEventListener('resize', () => {
            // 重新初始化图表以适应新尺寸
            const app = document.querySelector('#app').__vue_app__;
            if (app && app._instance && app._instance.ctx.isLoggedIn) {
                setTimeout(() => {
                    app._instance.ctx.initCharts();
                }, 100);
            }
        });
    </script>
</body>

</html>